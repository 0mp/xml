.PHONY: makelib install testlib clean

OCAMLFLAGS += -rectypes

OCamlGeneratedFiles(xml_encode.ml xml_decode.ml)

GENERATED_FILES[] =
   xml_encode.ml
   xml_decode.ml

FILES[] =
   xmlencoding
   xmlchar
   xml_encode
   xml_decode
   xmlparser
   xml
   sax
   sax_ns
   dom
   
section
   OCAMLPPFLAGS = -pp camlp4o
   OCAMLDEPFLAGS += -pp camlp4o
   OCAMLINCLUDES += +camlp4
   xmlparser.cmx xmlparser$(EXT_OBJ):
   xmlparser.cmo:
   xmlparser.cml:

OCAMLFLAGS += -pp camlp4o

LIB = xml

.DEFAULT: $(OCamlLibrary $(LIB), $(FILES))

IFILES[] =
   xmlencoding
   xmlparser
   xml
   sax
   sax_ns
   dom

ALIBS[] =

LibInstall(makelib, $(LIB), $(IFILES), $(ALIBS))

OCamlGeneratedFiles(xpath_grammar.ml)

GENERATED_FILES[] +=
   xpath_grammar.ml

install: makelib

clean:
   $(CLEAN) $(GENERATED_FILES)

.SUBDIRS: tests

